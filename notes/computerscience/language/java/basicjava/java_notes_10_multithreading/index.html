<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Java Notes(10) Multithreading - Hi, Shihao</title><meta name="Description" content="Java Fundamental"><meta property="og:title" content="Java Notes(10) Multithreading" />
<meta property="og:description" content="Java Fundamental" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://miaoshihao.com/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/" />
<meta property="og:image" content="http://miaoshihao.com/logo.png"/>
<meta property="article:published_time" content="2019-08-06T05:11:21+08:00" />
<meta property="article:modified_time" content="2019-08-06T05:11:21+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://miaoshihao.com/logo.png"/>

<meta name="twitter:title" content="Java Notes(10) Multithreading"/>
<meta name="twitter:description" content="Java Fundamental"/>
<meta name="application-name" content="Hi, Shihao">
<meta name="apple-mobile-web-app-title" content="Hi, Shihao"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://miaoshihao.com/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/" /><link rel="prev" href="http://miaoshihao.com/notes/computerscience/language/java/basicjava/java_notes_11_synchronization/" /><link rel="next" href="http://miaoshihao.com/notes/computerscience/language/java/basicjava/java_notes_9_serialization/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Java Notes(10) Multithreading",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/miaoshihao.com\/notes\/computerscience\/language\/java\/basicjava\/java_notes_10_multithreading\/"
        },"image": ["http:\/\/miaoshihao.com\/images\/Apple-Devices-Preview.png"],"genre": "notes","keywords": "Java","wordcount":  2787 ,
        "url": "http:\/\/miaoshihao.com\/notes\/computerscience\/language\/java\/basicjava\/java_notes_10_multithreading\/","datePublished": "2019-08-06T05:11:21+08:00","dateModified": "2019-08-06T05:11:21+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "http:\/\/miaoshihao.com\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Shihao"
            },"description": "Java Fundamental"
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Hi, Shihao"><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/notes/"> Notes </a><a class="menu-item" href="/categories/"> Category </a><a class="menu-item" href="/tags/"> Tags </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/" selected>English</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>                
                
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Hi, Shihao"><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/notes/" title="">Notes</a><a class="menu-item" href="/categories/" title="">Category</a><a class="menu-item" href="/tags/" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/" selected>English</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Java Notes(10) Multithreading</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Shihao</a></span>&nbsp;<span class="post-category">included in <a href="/categories/java/"><i class="far fa-folder fa-fw"></i>Java</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-08-06">2019-08-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;2787 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;14 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#multitasking">Multitasking</a></li>
    <li><a href="#life-cycle-of-a-thread">Life Cycle of a Thread</a></li>
    <li><a href="#creating-a-thread">Creating a Thread</a></li>
    <li><a href="#creating-thread-codes-">Creating Thread Codes :</a></li>
    <li><a href="#thread-scheduler-in-java">Thread Scheduler in Java</a></li>
    <li><a href="#sleep-method-in-java">sleep() method in Java</a></li>
    <li><a href="#run-method-in-java">run() method in Java</a></li>
    <li><a href="#join-method-in-java">join() method in Java</a></li>
    <li><a href="#naming-thread">Naming Thread</a></li>
    <li><a href="#priority-of-a-thread">Priority of a Thread</a></li>
    <li><a href="#daemon-thread">Daemon Thread</a></li>
    <li><a href="#java-thread-pool">Java Thread Pool</a></li>
    <li><a href="#threadgroup-class-in-java">ThreadGroup Class in Java</a></li>
    <li><a href="#java-shutdown-hook">Java Shutdown Hook</a></li>
    <li><a href="#multitask">Multitask</a></li>
    <li><a href="#java-garbage-collection">Java Garbage Collection</a></li>
    <li><a href="#java-runtime-class">Java Runtime Class</a></li>
    <li><a href="#java-runtime-exec-method">Java Runtime exec() method</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Multithreading in java is a process of executing multiple threads simultaneously. Thread is basically a lightweight sub-process, a smallest unit of processing. Multiprocessing and multithreading, both are used to achieve multitasking.</p>
<p>But we use multithreading than multiprocessing because threads share a common memory area. They don&rsquo;t allocate separate memory area so saves memory, and context-switching between the threads takes less time than process.</p>
<p>Thread is executed inside the process. There is context-switching between the threads. There can be multiple processes inside the OS and one process can have multiple threads.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="java-cpu-thread.png"
        data-srcset="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/java-cpu-thread.png, java-cpu-thread.png 1.5x, /notes/computerscience/language/java/basicjava/java_notes_10_multithreading/java-cpu-thread.png 2x"
        data-sizes="auto"
        alt="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/java-cpu-thread.png"
        title="java-cpu-thread" /></p>
<p><strong>Advantages of Multithreading :</strong></p>
<ul>
<li>It <strong>doesn&rsquo;t block the user</strong> because threads are independent and you can perform multiple operations at same time.</li>
<li>You <strong>can perform many operations simultaneously</strong> so it saves time.</li>
<li>Threads are <strong>independent</strong> so it doesn&rsquo;t affect other threads if exception occur in a single thread.</li>
</ul>
<h2 id="multitasking">Multitasking</h2>
<p>Multitasking is a process of executing multiple tasks simultaneously. We use multitasking to utilize the CPU. Multitasking can be achieved by two ways:</p>
<ul>
<li>Process-based Multitasking(Multiprocessing)</li>
<li>Thread-based Multitasking(Multithreading)</li>
</ul>
<table>
<thead>
<tr>
<th>Multiprocessing</th>
<th>Multithreading</th>
</tr>
</thead>
<tbody>
<tr>
<td>Each process have its own address in memory i.e. each process allocates separate memory area.</td>
<td>Threads share the same address space.</td>
</tr>
<tr>
<td>Process is heavyweight.</td>
<td>Thread is lightweight.</td>
</tr>
<tr>
<td>Cost of communication between the process is high.</td>
<td>Cost of communication between the thread is low.</td>
</tr>
<tr>
<td>Context-switching require some time for saving &amp; loading registers, memory maps, updating lists etc.</td>
<td>Context-switching between the threads takes less time than process.</td>
</tr>
</tbody>
</table>
<p><strong>NOTE :</strong> Context switching (aka process/task switching) is the switching of the CPU (central processing unit) from one process or thread to another.</p>
<h2 id="life-cycle-of-a-thread">Life Cycle of a Thread</h2>
<p>The life cycle of the thread in java is controlled by JVM. The java thread states are as follows:</p>
<ol>
<li><strong>New -</strong> The thread is in new state if you create an instance of Thread class but before the invocation of start() method.</li>
<li><strong>Runnable -</strong> The thread is in runnable state after invocation of start() method, but the thread scheduler has not selected it to be the running thread.</li>
<li><strong>Running -</strong> The thread is in running state if the thread scheduler has selected it.</li>
<li><strong>Non-Runnable (Blocked) -</strong> This is the state when the thread is still alive, but is currently not eligible to run.</li>
<li><strong>Terminated -</strong> A thread is in terminated or dead state when its run() method exits.</li>
</ol>
<p><strong>NOTE :</strong> According to sun, there is only 4 states in thread life cycle in java new, runnable, non-runnable and terminated. There is no running state.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="Life_Cycle.png"
        data-srcset="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/Life_Cycle.png, Life_Cycle.png 1.5x, /notes/computerscience/language/java/basicjava/java_notes_10_multithreading/Life_Cycle.png 2x"
        data-sizes="auto"
        alt="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/Life_Cycle.png"
        title="Java Thread Life Cycle" /></p>
<h2 id="creating-a-thread">Creating a Thread</h2>
<p><strong>There are two ways to create a thread:</strong></p>
<ol>
<li>By extending Thread class</li>
<li>By implementing Runnable interface.</li>
</ol>
<p><strong>Thread class:</strong>
Thread class provide constructors and methods to create and perform operations on a thread.Thread class extends Object class and implements Runnable interface.</p>
<p><strong>Commonly used Constructors of Thread class:</strong></p>
<ul>
<li>Thread()</li>
<li>Thread(String name)</li>
<li>Thread(Runnable r)</li>
<li>Thread(Runnable r,String name)</li>
</ul>
<p><strong>Commonly used methods of Thread class:</strong></p>
<ol>
<li><strong>public void run():  </strong> is used to perform action for a thread.</li>
<li><strong>public void start():  </strong>starts the execution of the thread.JVM calls the run() method on the thread.</li>
<li><strong>public void sleep(long miliseconds):  </strong> Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds.</li>
<li><strong>public void join():  </strong>waits for a thread to die.</li>
<li><strong>public void join(long miliseconds):  </strong>waits for a thread to die for the specified miliseconds.</li>
<li><strong>public int getPriority():  </strong>returns the priority of the thread.</li>
<li><strong>public int setPriority(int priority):  </strong>changes the priority of the thread.</li>
<li><strong>public String getName():  </strong>returns the name of the thread.</li>
<li><strong>public void setName(String name):  </strong>changes the name of the thread.</li>
<li><strong>public Thread currentThread():  </strong>returns the reference of currently executing thread.</li>
<li><strong>public int getId():  </strong>returns the id of the thread.</li>
<li><strong>public Thread.State getState():  </strong>returns the state of the thread.</li>
<li><strong>public boolean isAlive():  </strong>tests if the thread is alive.</li>
<li><strong>public void yield():  </strong>causes the currently executing thread object to temporarily pause and allow other threads to execute.</li>
<li><strong>public void suspend():  </strong>is used to suspend the thread(depricated).</li>
<li><strong>public void resume():  </strong>is used to resume the suspended thread(depricated).</li>
<li><strong>public void stop():  </strong>is used to stop the thread(depricated).</li>
<li><strong>public boolean isDaemon():  </strong>tests if the thread is a daemon thread.</li>
<li><strong>public void setDaemon(boolean b):  </strong>marks the thread as daemon or user thread.</li>
<li><strong>public void interrupt():  </strong>interrupts the thread.</li>
<li><strong>public boolean isInterrupted():  </strong>tests if the thread has been interrupted.</li>
<li><strong>public static boolean interrupted():  </strong>tests if the current thread has been interrupted.</li>
</ol>
<p><strong>Runnable interface:</strong>
The Runnable interface should be implemented by any class whose instances are intended to be executed by a thread. Runnable interface have only one method named run(). <strong>public void run():</strong> is used to perform action for a thread.</p>
<p><strong>Starting a thread:</strong>
<strong>start()</strong> method of Thread class is used to start a newly created thread. It performs following tasks:</p>
<ul>
<li>A new thread starts(with new callstack).</li>
<li>The thread moves from New state to the Runnable state.</li>
<li>When the thread gets a chance to execute, its target run() method will run.</li>
</ul>
<h2 id="creating-thread-codes-">Creating Thread Codes :</h2>
<ol>
<li>Thread Example by extending Thread class</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Multi</span> <span class="kd">extends</span> <span class="n">Thread</span><span class="o">{</span>  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>  
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;thread is running...&#34;</span><span class="o">);</span>  
<span class="o">}</span>  
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[]){</span>  
<span class="n">Multi</span> <span class="n">t1</span><span class="o">=</span><span class="k">new</span> <span class="n">Multi</span><span class="o">();</span>  
<span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>  
 <span class="o">}</span>  
<span class="o">}</span>  
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Thread Example by implementing Runnable interface</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Multi3</span> <span class="kd">implements</span> <span class="n">Runnable</span><span class="o">{</span>  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>  
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;thread is running...&#34;</span><span class="o">);</span>  
<span class="o">}</span>  
  
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[]){</span>  
<span class="n">Multi3</span> <span class="n">m1</span><span class="o">=</span><span class="k">new</span> <span class="n">Multi3</span><span class="o">();</span>  
<span class="n">Thread</span> <span class="n">t1</span> <span class="o">=</span><span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">m1</span><span class="o">);</span>  
<span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>  
 <span class="o">}</span>  
<span class="o">}</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="thread-scheduler-in-java">Thread Scheduler in Java</h2>
<p>Thread scheduler in java is the part of the JVM that decides which thread should run. There is no guarantee that which runnable thread will be chosen to run by the thread scheduler. Only one thread at a time can run in a single process. The thread scheduler mainly uses preemptive or time slicing scheduling to schedule the threads.</p>
<p><strong>Difference between preemptive scheduling and time slicing</strong>
Under preemptive scheduling, the highest priority task executes until it enters the waiting or dead states or a higher priority task comes into existence. Under time slicing, a task executes for a predefined slice of time and then reenters the pool of ready tasks. The scheduler then determines which task should execute next, based on priority and other factors.</p>
<p><strong>NOTE :</strong>
We cannot start a thread twice. After starting a thread, it can never be started again. If you does so, an IllegalThreadStateException is thrown the moment it is started for the second time.</p>
<h2 id="sleep-method-in-java">sleep() method in Java</h2>
<p>The sleep() method of Thread class is used to sleep a thread for the specified amount of time.</p>
<p><strong>The Thread class provides two methods for sleep :</strong></p>
<ol>
<li>public static void sleep(long miliseconds)throws InterruptedException</li>
<li>public static void sleep(long miliseconds, int nanos)throws InterruptedException</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">500</span><span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><p>At a time only one thread is executed. If you sleep a thread for the specified time,the thread shedular picks up another thread and so on.</p>
<h2 id="run-method-in-java">run() method in Java</h2>
<p>In Java, Each thread starts in a separate call stack. Invoking the run() method from main thread, the run() method goes onto the current call stack rather than at the beginning of a new call stack.</p>
<p><strong>Problem if you use run() directly instead of start() &ldquo;</strong>
There is no context-switching in the below program because here t1 and t2 will be treated as normal object not thread object.
Output will be : 1 2 3 4 5 1 2 3 4 5         (One object will finish before starting next)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">TestCallRun</span> <span class="kd">extends</span> <span class="n">Thread</span><span class="o">{</span>  
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>  
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">1</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">5</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>  
    <span class="k">try</span><span class="o">{</span><span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">500</span><span class="o">);}</span><span class="k">catch</span><span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">){</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);}</span>  
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>  
  <span class="o">}</span>  
 <span class="o">}</span>  
 <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[]){</span>  
  <span class="n">TestCallRun2</span> <span class="n">t1</span><span class="o">=</span><span class="k">new</span> <span class="n">TestCallRun2</span><span class="o">();</span>  
  <span class="n">TestCallRun2</span> <span class="n">t2</span><span class="o">=</span><span class="k">new</span> <span class="n">TestCallRun2</span><span class="o">();</span>  
   
  <span class="n">t1</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>  
  <span class="n">t2</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>  
 <span class="o">}</span>  
<span class="o">}</span> <span class="o">}</span> <span class="o">}</span>  
</code></pre></td></tr></table>
</div>
</div><h2 id="join-method-in-java">join() method in Java</h2>
<p>Java Thread <strong>join()</strong> method can be used to pause the current thread execution, until the specified thread is dead.</p>
<p><strong>There are three join methods :</strong></p>
<ol>
<li>public void join()</li>
<li>public void join(long millis)</li>
<li>public void join(long millis, int nanos)</li>
</ol>
<p><strong>Examples :</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>   <span class="err">\\</span><span class="n">Current</span> <span class="n">thread</span> <span class="n">will</span> <span class="n">be</span> <span class="n">paused</span><span class="o">,</span> <span class="n">until</span> <span class="n">t1</span> <span class="n">is</span> <span class="n">dead</span><span class="o">.</span> <span class="o">(</span><span class="n">t1</span> <span class="n">will</span> <span class="n">start</span> <span class="n">executing</span><span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">1500</span><span class="o">);</span>  <span class="err">\\</span><span class="n">Current</span> <span class="n">thread</span> <span class="n">will</span> <span class="n">be</span> <span class="n">paused</span><span class="o">,</span> <span class="n">t1</span> <span class="n">will</span> <span class="n">execute</span> <span class="k">for</span> <span class="n">1500</span> <span class="n">milliseconds</span><span class="o">.</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="naming-thread">Naming Thread</h2>
<p>The Thread class provides methods to change and get the name of a thread. By default, each thread has a name i.e. thread-0, thread-1 and so on. But, we can change the name of the thread by using setName() method.</p>
<ul>
<li><strong>public String getName():</strong> is used to get the name of a thread.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>public void setName(String name):</strong> is used to change the name of a thread.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;My sweet thread&#34;</span><span class="o">);</span> 
</code></pre></td></tr></table>
</div>
</div><p>Getting the Current Thread
<strong>public static Thread currentThread():</strong>
The currentThread() method returns a reference of currently executing thread.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span> 
 <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
<span class="o">}</span>  
</code></pre></td></tr></table>
</div>
</div><h2 id="priority-of-a-thread">Priority of a Thread</h2>
<p>Each thread have a priority. Priorities are represented by a number between 1 and 10. In most cases, thread schedular schedules the threads according to their priority (known as preemptive scheduling). But it is not guaranteed because it depends on JVM specification that which scheduling it chooses.</p>
<p>The 3 constants defined in Thread class:</p>
<ul>
<li>public static int MIN_PRIORITY</li>
<li>public static int NORM_PRIORITY</li>
<li>public static int MAX_PRIORITY</li>
</ul>
<p>Default priority of a thread is 5 (NORM_PRIORITY). The value of MIN_PRIORITY is 1 and the value of MAX_PRIORITY is 10.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;thread priority is:&#34;</span><span class="o">+</span><span class="n">t1</span><span class="o">.</span><span class="na">getPriority</span><span class="o">());</span> 
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">setPriority</span><span class="o">(</span><span class="n">Thread</span><span class="o">.</span><span class="na">MIN_PRIORITY</span><span class="o">);</span>  
</code></pre></td></tr></table>
</div>
</div><h2 id="daemon-thread">Daemon Thread</h2>
<p>Daemon thread in java is a service provider thread that provides services to the user thread. It has no role in life than to serve user threads. Its life depends on user threads i.e. when all the user threads dies, JVM terminates this thread automatically. It is a low priority thread.</p>
<p>There are many java daemon threads running automatically e.g. gc, finalizer etc.</p>
<p><strong>NOTE :</strong> You can see all the detail by typing the jconsole in the command prompt. The jconsole tool provides information about the loaded classes, memory usage, running threads etc.</p>
<p><strong>Methods for Daemon Thread:</strong></p>
<ul>
<li><strong>public void setDaemon(boolean status):</strong> is used to mark the current thread as daemon thread or user thread.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">setDaemon</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>   <span class="c1">//Now, t1 is a daemon thread  
</span><span class="c1"></span><span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">()</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>public boolean isDaemon():</strong> is used to check that current is daemon.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="k">if</span><span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">isDaemon</span><span class="o">())</span> <span class="o">{</span>
 <span class="o">...</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>If you want to make a user thread as Daemon, it must not be started otherwise it will throw IllegalThreadStateException.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>  
<span class="n">t1</span><span class="o">.</span><span class="na">setDaemon</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>     <span class="c1">//will Throw Exception Here  
</span></code></pre></td></tr></table>
</div>
</div><h2 id="java-thread-pool">Java Thread Pool</h2>
<p>Java Thread pool represents a group of worker threads that are waiting for the job and reuse many times.
In case of thread pool, a group of fixed size threads are created. A thread from the thread pool is pulled out and assigned a job by the service provider. After completion of the job, thread is contained in the thread pool again.</p>
<p><strong>Advantage of Java Thread Pool is Better performance.</strong> It saves time because there is no need to create new thread.</p>
<p><strong>Real time usage:</strong> It is used in Servlet and JSP where container creates a thread pool to process the request.</p>
<p><strong>Example Syntax:</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">ExecutorService</span> <span class="n">executor</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="n">5</span><span class="o">);</span>  <span class="c1">//creating a pool of 5 threads 
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Runnable</span> <span class="n">worker</span> <span class="o">=</span> <span class="k">new</span> <span class="o">...</span>
<span class="n">executor</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">worker</span><span class="o">);</span>   <span class="c1">//calling execute method of ExecutorService  
</span></code></pre></td></tr></table>
</div>
</div><h2 id="threadgroup-class-in-java">ThreadGroup Class in Java</h2>
<p>Java provides a convenient way to group multiple threads in a single object. In such way, we can suspend, resume or interrupt group of threads by a single method call. Java thread group is implemented by java.lang.ThreadGroup class.</p>
<p><strong>NOTE :</strong> Now suspend(), resume() and stop() methods are <strong>deprecated</strong>.</p>
<p><strong>Constructors of ThreadGroup class :</strong></p>
<table class="alt">
<tbody><tr><th>No.</th><th>Constructor</th><th>Description</th></tr>
<tr><td>1)</td><td>ThreadGroup(String name)</td><td>creates a thread group with given name.</td></tr>
<tr><td>2)</td><td>ThreadGroup(ThreadGroup parent, String name)</td><td>creates a thread group with given parent group and name.</td></tr>
</tbody></table>
<p><strong>Important methods of ThreadGroup class :</strong></p>
<table class="alt">
<tbody><tr><th>No.</th><th>Method</th><th>Description</th></tr>
<tr><td>1)</td><td>int activeCount()</td><td>returns no. of threads running in current group.</td></tr>
<tr><td>2)</td><td>int activeGroupCount()</td><td>returns a no. of active group in this thread group.</td></tr>
<tr><td>3)</td><td>void destroy()</td><td>destroys this thread group and all its sub groups.</td></tr>
<tr><td>4)</td><td>String getName()</td><td>returns the name of this group.</td></tr>
<tr><td>5)</td><td>ThreadGroup getParent()</td><td>returns the parent of this group.</td></tr>
<tr><td>6)</td><td>void interrupt()</td><td>interrupts all threads of this group.</td></tr>
<tr><td>7)</td><td>void list()</td><td>prints information of this group to standard console.</td></tr>
</tbody></table>
<p><strong>Creating group of threads :</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">ThreadGroup</span> <span class="n">tg1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadGroup</span><span class="o">(</span><span class="s">&#34;Group A&#34;</span><span class="o">);</span>   
<span class="n">Thread</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">tg1</span><span class="o">,</span><span class="k">new</span> <span class="n">MyRunnable</span><span class="o">(),</span><span class="s">&#34;one&#34;</span><span class="o">);</span>     
<span class="n">Thread</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">tg1</span><span class="o">,</span><span class="k">new</span> <span class="n">MyRunnable</span><span class="o">(),</span><span class="s">&#34;two&#34;</span><span class="o">);</span>     
<span class="n">Thread</span> <span class="n">t3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">tg1</span><span class="o">,</span><span class="k">new</span> <span class="n">MyRunnable</span><span class="o">(),</span><span class="s">&#34;three&#34;</span><span class="o">);</span>    
</code></pre></td></tr></table>
</div>
</div><p>Now all 3 threads belong to one group. Here, tg1 is the thread group name, MyRunnable is the class that implements Runnable interface and &ldquo;one&rdquo;, &ldquo;two&rdquo; and &ldquo;three&rdquo; are the thread names.</p>
<p>Now we can interrupt all threads by a single line of code only.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getThreadGroup</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>  
</code></pre></td></tr></table>
</div>
</div><h2 id="java-shutdown-hook">Java Shutdown Hook</h2>
<p>The shutdown hook can be used to perform cleanup resource or save the state when JVM shuts down normally or abruptly. Performing clean resource means closing log file, sending some alerts or something else. So if you want to execute some code before JVM shuts down, use shutdown hook.</p>
<p><strong>The JVM shuts down when:</strong>
user presses ctrl+c on the command prompt, System.exit(int) method is invoked, user logoff, shutdown, etc.</p>
<p>The <strong>addShutdownHook()</strong> method of Runtime class is used to register the thread with the Virtual Machine.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">addShutdownHook</span><span class="o">(</span><span class="n">Thread</span> <span class="n">hook</span><span class="o">){}</span>  
</code></pre></td></tr></table>
</div>
</div><p>The object of Runtime class can be obtained by calling the static factory method getRuntime()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Runtime</span> <span class="n">r</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">();</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>Factory method:</strong> The method that returns the instance of a class is known as factory method.</p>
<p><strong>NOTE:</strong> The shutdown sequence can be stopped by invoking the halt(int) method of Runtime class.</p>
<h2 id="multitask">Multitask</h2>
<p>Each thread run in a separate <strong>callstack</strong>.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://user-images.githubusercontent.com/2780145/35023526-11302878-fb61-11e7-942a-da830e4cd714.JPG"
        data-srcset="https://user-images.githubusercontent.com/2780145/35023526-11302878-fb61-11e7-942a-da830e4cd714.JPG, https://user-images.githubusercontent.com/2780145/35023526-11302878-fb61-11e7-942a-da830e4cd714.JPG 1.5x, https://user-images.githubusercontent.com/2780145/35023526-11302878-fb61-11e7-942a-da830e4cd714.JPG 2x"
        data-sizes="auto"
        alt="https://user-images.githubusercontent.com/2780145/35023526-11302878-fb61-11e7-942a-da830e4cd714.JPG"
        title="callstack" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">TestMultitasking1</span> <span class="kd">extends</span> <span class="n">Thread</span><span class="o">{</span>  
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>  
   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;task one&#34;</span><span class="o">);</span>  
 <span class="o">}</span>  
 <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[]){</span>  
  <span class="n">TestMultitasking1</span> <span class="n">t1</span><span class="o">=</span><span class="k">new</span> <span class="n">TestMultitasking1</span><span class="o">();</span>  
  <span class="n">TestMultitasking1</span> <span class="n">t2</span><span class="o">=</span><span class="k">new</span> <span class="n">TestMultitasking1</span><span class="o">();</span>    
  <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>  
  <span class="n">t2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>    
 <span class="o">}</span>  <span class="o">}</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="java-garbage-collection">Java Garbage Collection</h2>
<p>In Java, garbage means unreferenced objects. Garbage Collection is process of reclaiming the runtime unused memory automatically. In other words, it is a way to destroy the unused objects. To do so, we were using free() function in C language and delete() in C++. But, in java it is performed automatically. So, java provides better memory management.</p>
<p><strong>Advantage of Garbage Collection:</strong></p>
<ul>
<li>It makes java <strong>memory efficient</strong> because garbage collector removes the unreferenced objects from heap memory.</li>
<li>It is <strong>automatically done</strong> by the garbage collector(a part of JVM) so we don&rsquo;t need to make extra efforts.</li>
</ul>
<p><strong>How an object is unreferenced:</strong></p>
<ul>
<li>By nulling the reference</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Employee</span> <span class="n">e</span><span class="o">=</span><span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>  
<span class="n">e</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>  
</code></pre></td></tr></table>
</div>
</div><ul>
<li>By assigning a reference to another</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Employee</span> <span class="n">e1</span><span class="o">=</span><span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>  
<span class="n">Employee</span> <span class="n">e2</span><span class="o">=</span><span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>  
<span class="n">e1</span><span class="o">=</span><span class="n">e2</span><span class="o">;</span>    <span class="c1">//now, the first object referred by e1 is available for garbage collection
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>By annonymous object</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>  
</code></pre></td></tr></table>
</div>
</div><ul>
<li>etc.</li>
</ul>
<p><strong>finalize() method</strong>
The finalize() method is invoked each time before the object is garbage collected. This method can be used to perform cleanup processing. This method is defined in Object class as:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">finalize</span><span class="o">(){}</span>  
</code></pre></td></tr></table>
</div>
</div><p><strong>NOTE :</strong> The Garbage collector of JVM collects only those objects that are created by new keyword. So if you have created any object without new, you can use finalize method to perform cleanup processing (destroying remaining objects).</p>
<p><strong>gc() method</strong>
The gc() method is used to invoke the garbage collector to perform cleanup processing. The gc() is found in System and Runtime classes. This method is defined in System class as:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">gc</span><span class="o">(){}</span>  
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">gc</span><span class="o">();</span>    <span class="c1">// explicitely invoking the garbage collector
</span></code></pre></td></tr></table>
</div>
</div><p><strong>NOTE :</strong> Garbage collection is performed by a daemon thread called Garbage Collector(GC). This thread calls the finalize() method before object is garbage collected.</p>
<p><strong>NOTE :</strong>  Neither finalization nor garbage collection is guaranteed.</p>
<h2 id="java-runtime-class">Java Runtime Class</h2>
<p><strong>Java Runtime class is used to interact with java runtime environment</strong>. Java Runtime class provides methods to execute a process, invoke GC, get total and free memory etc. There is only one instance of java.lang.Runtime class is available for one java application. The <strong>Runtime.getRuntime()</strong> method returns the singleton instance of Runtime class.</p>
<p><strong>Important methods of Java Runtime class :</strong></p>
<table class="alt">
<tbody><tr><th>No.</th><th>Method</th><th>Description</th></tr>
<tr><td>1)</td><td>public static Runtime getRuntime()</td><td>returns the instance of Runtime class.</td></tr>
<tr><td>2)</td><td>public void exit(int status)</td><td>terminates the current virtual machine.</td></tr>
<tr><td>3)</td><td>public void addShutdownHook(Thread hook)</td><td>registers new hook thread.</td></tr>
<tr><td>4)</td><td>public Process exec(String command)throws IOException</td><td>executes given command in a separate process.</td></tr>
<tr><td>5)</td><td>public int availableProcessors()</td><td>returns no. of available processors.</td></tr>
<tr><td>6)</td><td>public long freeMemory()</td><td>returns amount of free memory in JVM.</td></tr>
<tr><td>7)</td><td>public long totalMemory()</td><td>returns amount of total memory in JVM.</td></tr>
</tbody></table>
<h2 id="java-runtime-exec-method">Java Runtime exec() method</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Runtime1</span><span class="o">{</span>  
 <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span><span class="kd">throws</span> <span class="n">Exception</span><span class="o">{</span>  
  <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="s">&#34;notepad&#34;</span><span class="o">);</span>  <span class="c1">// Will open a new notepad  
</span><span class="c1"></span> <span class="o">}</span>  
<span class="o">}</span>  
</code></pre></td></tr></table>
</div>
</div><p><strong>Shutdown system in Java :</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="s">&#34;shutdown -s -t 0&#34;</span><span class="o">);</span>  <span class="c1">// Shutdown
</span></code></pre></td></tr></table>
</div>
</div><p>You can use shutdown -s command to shutdown system. For windows OS, you need to provide full path of shutdown command e.g. c:\Windows\System32\shutdown. Here you can use -s switch to shutdown system, -r switch to restart system and -t switch to specify time delay.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="s">&#34;c:\\Windows\\System32\\shutdown -s -t 0&#34;</span><span class="o">);</span>  <span class="c1">// Windows Shutdown
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="s">&#34;shutdown -r -t 0&#34;</span><span class="o">);</span>  <span class="c1">// Restart
</span></code></pre></td></tr></table>
</div>
</div><p><strong>Runtime availableProcessors() method :</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">availableProcessors</span><span class="o">());</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>Runtime freeMemory() and totalMemory() method :</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Total Memory: &#34;</span><span class="o">+</span><span class="n">Runtime</span><span class="o">.</span><span class="na">totalMemory</span><span class="o">());</span>  
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Free Memory: &#34;</span><span class="o">+</span><span class="n">Runtime</span><span class="o">.</span><span class="na">freeMemory</span><span class="o">());</span>  
</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-08-06</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/notes/computerscience/language/java/basicjava/java_notes_10_multithreading/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/java/">Java</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/notes/computerscience/language/java/basicjava/java_notes_11_synchronization/" class="prev" rel="prev" title="Java Notes(11) Synchronization"><i class="fas fa-angle-left fa-fw"></i>Java Notes(11) Synchronization</a>
            <a href="/notes/computerscience/language/java/basicjava/java_notes_9_serialization/" class="next" rel="next" title="Java Notes(9) Serialization">Java Notes(9) Serialization<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Shihao Miao</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span><div>
                    <span id="timeDate">Loading Days...</span><span id="times">Loading Times...</span>
                    <script>
                        var now = new Date();
                        function createtime() {
                            var grt= new Date("03/20/2019 00:00:00");
                            now.setTime(now.getTime()+250);
                            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
                            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
                            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
                            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
                            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
                            document.getElementById("timeDate").innerHTML = "This website has struggled in this world for "+dnum+" day ";
                            document.getElementById("times").innerHTML = hnum + " hour " + mnum + " min " + snum + " sec";
                        }
                    setInterval("createtime()",250);
                    </script>
                    </div></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"\u003e$ cd /home/ ","id-2":"\u003e$ cd /home/ "},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.en","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"},"typeit":{"cursorChar":" |","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":500}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
